---
title: 代码美化及风格统一工具
date: 2017-04-25 10:57:24
tags: nodejs
categories: nodejs
---
这里利用了提交代码时，prettier-standard强制格式化代码，来保持代码风格统一
##### 安装插件
这里需要安装3个插件
*   pre-commit 使用commit命令对代码进行格式检查
*   lint-staged 校验代码，控制代码风格
*   prettier-standard 对代码进行格式化
    

        npm install pre-commit lint-staged prettier-standard --save-dev

##### 配置命令
主要在package.json文件里配置
    
    {   
        "scripts": {
            "prettier-code": "lint-staged"
        },
        "lint-staged": {
            "linters": {
                "src/**/*.js": [
                    "prettier-standard",
                    "git add"
                ],
                "src2/**/*.js": [
                    "prettier-standard",
                    "git add"
                ]
            }
        },
        "pre-commit": [
            "prettier-code"
        ],
        "devDependencies": {
            "lint-staged": "^3.4.0",
            "pre-commit": "^1.2.2",
            "prettier-standard": "^1.0.6"
        }
    }

这样，在用git提交代码前，会对相应代码目录进行校验和风格检查，并自动格式化